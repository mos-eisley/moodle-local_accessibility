{"version":3,"file":"panel.min.js","sources":["../src/panel.js"],"sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * Default script for accessibility panel\n *\n * @module      local/accessibility\n * @copyright   2023 Ponlawat Weerapanpisit <ponlawat_w@outlook.co.th>\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\n\n/**\n * Initialise accessibility panel\n */\nexport const init = () => {\n    $(() => {\n        const $button = $('#local-accessibility-buttoncontainer button');\n        const $panel = $('.local-accessibility-panel');\n        const $closebtn = $('#local-accessibility-closebtn');\n\n        if (!$button.length || !$panel.length) {\n            return;\n        }\n\n        $panel.hide();\n\n        $button.on('click', () => {\n            $panel.toggle();\n        });\n\n        window.addEventListener('click', e => {\n            if ($button[0].contains(e.target) || $panel[0].contains(e.target)) {\n                return;\n            }\n            if ($panel.css('display') !== 'none') {\n                $panel.hide();\n            }\n        });\n\n        window.addEventListener('keyup', e => {\n            if ($panel.css('display') !== 'none' && e.key === 'Escape') {\n                $panel.hide();\n            }\n        });\n\n        if ($closebtn.length) {\n            $closebtn.on('click', () => {\n                $panel.hide();\n            });\n        }\n    });\n};\n"],"names":["e","_jquery","__esModule","default","_exports","init","$","$button","$panel","$closebtn","length","hide","on","toggle","window","addEventListener","contains","target","css","key"],"mappings":"oFAuBuB,IAAAA;;;;;;;kFAAvBC,SAAuBD,EAAvBC,UAAuBD,EAAAE,WAAAF,EAAAG,CAAAA,QAAAH,GA0CrBI,SAAAC,KArCkBA,MAChB,EAAAC,QAAAA,UAAE,KACE,MAAMC,SAAU,EAAAD,QAACH,SAAC,+CACZK,QAAS,EAAAF,QAACH,SAAC,8BACXM,WAAY,EAAAH,QAACH,SAAC,iCAEfI,QAAQG,QAAWF,OAAOE,SAI/BF,OAAOG,OAEPJ,QAAQK,GAAG,SAAS,KAChBJ,OAAOK,QAAQ,IAGnBC,OAAOC,iBAAiB,SAASf,IACzBO,QAAQ,GAAGS,SAAShB,EAAEiB,SAAWT,OAAO,GAAGQ,SAAShB,EAAEiB,SAG5B,SAA1BT,OAAOU,IAAI,YACXV,OAAOG,MACX,IAGJG,OAAOC,iBAAiB,SAASf,IACC,SAA1BQ,OAAOU,IAAI,YAAmC,WAAVlB,EAAEmB,KACtCX,OAAOG,MACX,IAGAF,UAAUC,QACVD,UAAUG,GAAG,SAAS,KAClBJ,OAAOG,MAAM,IAErB,GACF,CACJ"}